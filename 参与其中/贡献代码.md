# 贡献

[TOC]

我们希望建立一个充满活力的社区驱动力，将SVMP带入未来。我们欢迎您以任何方式参与，无论大小，报告错误，分享有趣的新功能的想法，或贡献代码。今天的SVMP提供了有价值的功能，但更重要的是它是未来梦幻创作的基础。

## 提供反馈

### 错误报告

将注释发送到[开发人员邮件列表，](mailto:project-svmp-list@lists.mitre.org)并在最合适的Github项目跟踪器中创建新问题。

尽可能具体地说明故障，故障发生的条件，如何重现故障，以及故障发生时可以获得的任何错误日志。您提供的信息越多，我们就越有可能快速解决问题。

- 虚拟机问题：[SVMP VM守护程序](https://github.com/SVMP/android_external_svmp_eventserver/issues)
- 客户申请：
  - [Android的](https://github.com/SVMP/svmp-android-client/issues)
  - [iOS版](https://github.com/SVMP/svmp-iOS-client/issues)
- [SVMP服务器](https://github.com/SVMP/svmp-server/issues)

### 功能建议

将改进建议或新功能发送到[开发人员邮件列表](mailto:project-svmp-list@lists.mitre.org)。

## 提交补丁

最终所有提交都将通过[Gerrit代码审查服务器处理](https://svmp-review.mitre.org/)。在激活该服务器之前，请通过Github提交拉取请求或将补丁发送到[邮件列表](mailto:project-svmp-list@lists.mitre.org)。

### 提交格式

首先，确保使用您的真实姓名和电子邮件地址配置git。

请尽可能多地遵循以下格式的补丁：

- 第一行包含修补程序主要目的的简短但清晰的描述。最多约60个字符
- 空白的第二行
- 正文包含补丁中完成的所有内容的长形式描述。对于合并提交，请包含提交列表以及由合并提取的标记行。包装文本并保持80行以下的行。
- 签署合格
- 如果推送到Gerrit，则更改id行

[有关编写良好提交消息的更多信息。](https://source.android.com/source/submit-patches.html#make-your-change)

### 合并提交

不要这样做。我们更喜欢SVMP存储库的直线提交历史记录，因为这是管理所有git存储库的Gerrit代码审查工具的首选项。在推送之前，请将您的补丁重新绑定为直线，快速转发的补丁系列。

如果您发现自己需要进行合并提交并且有充分的理由这样做，请向[开发人员邮件列表](mailto:project-svmp-list@lists.mitre.org)发送一条消息，说明您要执行的操作并请求有关如何继续操作的帮助。

### Gerrit，repo和Change-id行

在合并到主线版本之前，所有代码贡献都通过Gerrit代码审查服务器。为了跟踪建议补丁的不同版本，Gerrit在提交消息中使用“Change-id”行。

使用基于AOSP的虚拟机代码时，`repo`工具将自动处理。用于处理repo以及如何提交补丁的大多数上游AOSP文档同样适用于SVMP

- [使用回购](https://source.android.com/source/developing.html)
- [提交补丁](https://source.android.com/source/submit-patches.html)

对于其他SVMP组件（客户端，服务器等），您需要自己添加这些行。有关[更多信息](https://gerrit-review.googlesource.com/Documentation/user-changeid.html)，请参阅[Gerrit文档](https://gerrit-review.googlesource.com/Documentation/user-changeid.html)，包括如何创建本地git提交挂钩以自动为您添加Change-id行。

您还可以在使用Gerrit管理的存储库时找到`git-review`工具。它也会自动处理

- [关于PyPi的git-review](https://pypi.python.org/pypi/git-review/1.23)
- [MediWiki的Gerrit工作流程说明](http://www.mediawiki.org/wiki/Gerrit/git-review)
- [OpenStack的Gerrit工作流程说明](https://wiki.openstack.org/wiki/Gerrit_Workflow)

### 许可和版权

SVMP主要在[Apache License 2.0版](https://www.apache.org/licenses/LICENSE-2.0.html)下[发布](https://www.apache.org/licenses/LICENSE-2.0.html)。

我们不会要求代码贡献的版权分配。但是，我们要求您[以与包含](https://www.apache.org/legal/resolved.html#category-a)在Apache许可项目中[兼容](https://www.apache.org/legal/resolved.html#category-a)的方式提供补丁。修改现有文件时，您可以选择在标题注释中添加简短注释，其中包含您的姓名，日期和修改内容，以便更改跟踪更改。如果要添加新文件，请在文件标题中放置适当的版权和许可声明。[没有明确的开源许可证的文件](https://help.github.com/articles/open-source-licensing#what-happens-if-i-dont-choose-a-license)必须被视为“保留所有权利”，不能包含在内。

### 签名-OFF-通过

*没有签名的补丁不能考虑包含在内，并且实际上会被Gerrit代码审查系统拒绝。*

为了确保信任链，对于收到的补丁，SVMP项目使用Linux内核使用的signed-off-by进程。

这意味着每个提交的补丁必须在提交消息中包含一个“Signed-off-by”行，其中包含您的真实姓名和电子邮件地址（无假名或匿名贡献）。包括此行表示您证明您有权根据贡献代码中指定的许可提供补丁，并遵守以下规定：

```
“开发商原产地证书1.1

通过为这个项目做出贡献，我证明：

（a）该贡献全部或部分由我创建，我有权根据文件中指明的开源许可提交; 要么

（b）该贡献是基于以前的工作，据我所知，这些工作属于适当的开源许可，我有权根据该许可提交修改后的工作，无论是全部还是部分地由我，根据相同的开源许可证（除非我被允许根据不同的许可证提交），如文件中所示; 要么

（c）该文稿由（a），（b）或（c）证明的其他人直接提供给我，而我没有对其进行修改。

d）我理解并同意该项目和贡献是公开的，并且该贡献的记录（包括我随其提交的所有个人信息，包括我的签字）将无限期保留，并且可以与该项目或涉及的开源许可证。“
```

在此过程中的一些外部引用，因为它在其他项目中使用：

- [Linux Kernel SubmittingPatches doc，'签署您的工作'部分](https://www.kernel.org/doc/Documentation/SubmittingPatches)
- http://ltsi.linuxfoundation.org/developers/signed-process
- https://gerrit-review.googlesource.com/Documentation/user-signedoffby.html